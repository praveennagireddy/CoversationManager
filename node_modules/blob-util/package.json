{
  "_from": "blob-util",
  "_id": "blob-util@1.3.0",
  "_inBundle": false,
  "_integrity": "sha512-cjmYgWj8BQwoX+95rKkWvITL6PiEhSr19sX8qLRu+O6J2qmWmgUvxqhqJn425RFAwLovdDNnsCQ64RRHXjsXSg==",
  "_location": "/blob-util",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "blob-util",
    "fetchSpec": "latest",
    "name": "blob-util",
    "raw": "blob-util",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER"
  ],
  "_resolved": "https://registry.npmjs.org/blob-util/-/blob-util-1.3.0.tgz",
  "_shasum": "dbb4e8caffd50b5720d347e1169b6369ba34fe95",
  "_spec": "blob-util",
  "_where": "E:\\Sb Platform Services",
  "author": {
    "email": "nolan.lawson@gmail.com",
    "name": "Nolan Lawson"
  },
  "bugs": {
    "url": "https://github.com/nolanlawson/blob-util/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "blob": "0.0.4",
    "native-or-lie": "1.0.2"
  },
  "deprecated": false,
  "description": "Utilities for working with Blob objects in the browser",
  "devDependencies": {
    "browserify": "^9.0.3",
    "bundle-collapser": "^1.1.4",
    "chai": "~1.8.1",
    "chai-as-promised": "~4.1.0",
    "derequire": "^2.0.0",
    "es3ify": "^0.1.3",
    "istanbul": "^0.2.7",
    "jsdoc": "^3.3.0-alpha10",
    "jsdoc-to-markdown": "^0.5.9",
    "jshint": "~2.3.0",
    "mkdirp": "^0.5.0",
    "mocha": "~1.18",
    "request": "^2.36.0",
    "uglify-js": "^2.4.13",
    "zuul": "^3.10.1",
    "zuul-ngrok": "github:nolanlawson/zuul-ngrok#patch-1"
  },
  "files": [
    "dist",
    "lib"
  ],
  "homepage": "https://github.com/nolanlawson/blob-util#readme",
  "keywords": [
    "binary",
    "blob",
    "blobs",
    "util",
    "utils"
  ],
  "license": "Apache-2.0",
  "main": "lib/index.js",
  "name": "blob-util",
  "optionalDependencies": {},
  "readme": "blob-util [![Build Status](https://travis-ci.org/nolanlawson/blob-util.svg)](https://travis-ci.org/nolanlawson/blob-util)\n=====\n\n`blob-util` is a [Blob](https://developer.mozilla.org/en-US/docs/Web/API/Blob?redirectlocale=en-US&redirectslug=DOM%2FBlob) library for busy people.\n\nIt offers a small set of cross-browser utilities for translating Blobs to and from different formats:\n\n* `<img/>` tags\n* base 64 strings\n* binary strings\n* ArrayBuffers\n* data URLs\n* canvas\n\nIt's also a good pairing with the attachment API in [PouchDB](http://pouchdb.com).\n\n**Note**: this is a browser library. For Node.js, see [Buffers](http://nodejs.org/api/buffer.html).\n\n**Topics**:\n\n* [Install](#usage)\n* [Browser support](#browser-support)\n* [Tutorial](#tutorial)\n* [Playground](http://nolanlawson.github.io/blob-util)\n* [API](#api)\n\nInstall\n------\n\nDownload it from the `dist/` folder above, or use NPM:\n\n```bash\n$ npm install blob-util\n```\n\nor Bower:\n\n```bash\n$ bower install blob-util\n```\n\nThen stick it in your HTML:\n\n```html\n<script src=\"blob-util.js\"></script>\n```\n\nNow you have a `window.blobUtil` object. Or if you don't like globals, you can use Browserify.\n\nBrowser support\n-----\n\n* Firefox\n* Chrome\n* IE 10+\n* Safari 6+\n* iOS 6+\n* Android 4+\n* Any browser with either `Blob` or the older `BlobBuilder`; see [caniuse](http://caniuse.com/#search=blob) for details.\n\nTutorial\n--------\n\nBlobs (<strong>b</strong>inary <strong>l</strong>arge <strong>ob</strong>jects) are the modern way of working with binary data in the browser. The browser support is [very good](http://caniuse.com/#search=blob).\n\nOnce you have a Blob, you can make it available offline by storing it in [IndexedDB](http://www.w3.org/TR/IndexedDB/), [PouchDB](http://pouchdb.com/), [LocalForage](https://mozilla.github.io/localForage/), or other in-browser databases. So it's the perfect format for working with offline images, sound, and video.\n\nA [File](https://developer.mozilla.org/en-US/docs/Web/API/File) is also a Blob. So if you have an `<input type=\"file\">` in your page, you can let your users upload any file and then work with it as a Blob.\n\n### Example\n\nHere's Kirby. He's a famous little Blob.\n\n<img id=\"kirby\" alt=\"Kirby\" src=\"./test/kirby.gif\"/>\n\nSo let's fulfill his destiny, and convert him to a real `Blob` object.\n\n```js\nvar img = document.getElementById('kirby');\n\nblobUtil.imgSrcToBlob(img.src).then(function (blob) {\n  // ladies and gents, we have a blob\n}).catch(function (err) {\n  // image failed to load\n});\n```\n\n(Don't worry, this won't download the image twice, because browsers are smart.)\n\nNow that we have a `Blob`, we can convert it to a URL and use that as the source for another `<img/>` tag:\n\n```js\nvar blobURL = blobUtil.createObjectURL(blob);\n\nvar newImg = document.createElement('img');\nnewImg.src = blobURL;\n\ndocument.body.appendChild(newImg);\n```\n\nSo now we have two Kirbys - one with a normal URL, and the other with a blob URL. You can try this out yourself in the [blob-util playground](http://nolanlawson.github.io/blob-util). Super fun!\n\n<img src=\"blob-util.gif\"/>\n\n\nAPI\n-------\n\nWarning: this API uses [Promises](https://promisesaplus.com/), because it's not 2009 anymore.\n\n### Overview\n\n* [createBlob(parts, options)](#createBlob)\n* [createObjectURL(blob)](#createObjectURL)\n* [revokeObjectURL(url)](#revokeObjectURL)\n* [blobToBinaryString(blob)](#blobToBinaryString)\n* [base64StringToBlob(base64, type)](#base64StringToBlob)\n* [binaryStringToBlob(binary, type)](#binaryStringToBlob)\n* [blobToBase64String(blob)](#blobToBase64String)\n* [dataURLToBlob(dataURL)](#dataURLToBlob)\n* [blobToDataURL(blob)](#blobToDataURL)\n* [imgSrcToDataURL(src, type, crossOrigin, quality)](#imgSrcToDataURL)\n* [canvasToBlob(canvas, type, quality)](#canvasToBlob)\n* [imgSrcToBlob(src, type, crossOrigin, quality)](#imgSrcToBlob)\n* [arrayBufferToBlob(buffer, type)](#arrayBufferToBlob)\n* [blobToArrayBuffer(blob)](#blobToArrayBuffer)\n \n<a name=\"createBlob\"></a>\n### createBlob(parts, options)\nShim for\n[new Blob()](https://developer.mozilla.org/en-US/docs/Web/API/Blob.Blob)\nto support\n[older browsers that use the deprecated <code>BlobBuilder</code> API](http://caniuse.com/blob).\n\n**Params**\n\n- parts `Array` - content of the <code>Blob</code>  \n- options `Object` - usually just <code>{type: myContentType}</code>  \n\n**Returns**: `Blob`  \n\n**Example**:\n\n```js\nvar myBlob = blobUtil.createBlob(['hello world'], {type: 'text/plain'});\n```\n\n<a name=\"createObjectURL\"></a>\n### createObjectURL(blob)\nShim for\n[URL.createObjectURL()](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL)\nto support browsers that only have the prefixed\n<code>webkitURL</code> (e.g. Android <4.4).\n\n**Params**\n\n- blob `Blob`  \n\n**Returns**: `string` - url  \n\n**Example**:\n\n```js\nvar myUrl = blobUtil.createObjectURL(blob);\n```\n\n<a name=\"revokeObjectURL\"></a>\n### revokeObjectURL(url)\nShim for\n[URL.revokeObjectURL()](https://developer.mozilla.org/en-US/docs/Web/API/URL.revokeObjectURL)\nto support browsers that only have the prefixed\n<code>webkitURL</code> (e.g. Android <4.4).\n\n**Params**\n\n- url `string`  \n\n**Example**:\n\n```js\nblobUtil.revokeObjectURL(myUrl);\n```\n\n<a name=\"blobToBinaryString\"></a>\n### blobToBinaryString(blob)\nConvert a <code>Blob</code> to a binary string. Returns a Promise.\n\n**Params**\n\n- blob `Blob`  \n\n**Returns**: `Promise` - Promise that resolves with the binary string \n\n**Example**:\n\n```js\nblobUtil.blobToBinaryString(blob).then(function (binaryString) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n \n<a name=\"base64StringToBlob\"></a>\n### base64StringToBlob(base64, type)\nConvert a base64-encoded string to a <code>Blob</code>. Returns a Promise.\n\n**Params**\n\n- base64 `string`  \n- type `string` | `undefined` - the content type (optional)  \n\n**Returns**: `Promise` - Promise that resolves with the <code>Blob</code>  \n\n**Example**:\n\n```js\nblobUtil.base64StringToBlob(base64String).then(function (blob) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\n<a name=\"binaryStringToBlob\"></a>\n### binaryStringToBlob(binary, type)\nConvert a binary string to a <code>Blob</code>. Returns a Promise.\n\n**Params**\n\n- binary `string`  \n- type `string` | `undefined` - the content type (optional)  \n\n**Returns**: `Promise` - Promise that resolves with the <code>Blob</code>  \n\n**Example**:\n\n```js\nblobUtil.binaryStringToBlob(binaryString).then(function (blob) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\n<a name=\"blobToBase64String\"></a>\n### blobToBase64String(blob)\nConvert a <code>Blob</code> to a binary string. Returns a Promise.\n\n**Params**\n\n- blob `Blob`  \n\n**Returns**: `Promise` - Promise that resolves with the binary string  \n\n\n**Example**:\n\n```js\nblobUtil.blobToBase64String(blob).then(function (base64String) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\n<a name=\"dataURLToBlob\"></a>\n### dataURLToBlob(dataURL)\nConvert a data URL string\n(e.g. <code>'data:image/png;base64,iVBORw0KG...'</code>)\nto a <code>Blob</code>. Returns a Promise.\n\n**Params**\n\n- dataURL `string`  \n\n**Returns**: `Promise` - Promise that resolves with the <code>Blob</code>  \n\n**Example**:\n\n```js\nblobUtil.dataURLToBlob(dataURL).then(function (blob) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n<a name=\"blobToDataURL\"></a>\n###blobToDataURL(blob)\nConvert a <code>Blob</code> to a data URL string\n(e.g. <code>'data:image/png;base64,iVBORw0KG...'</code>).\nReturns a Promise.\n\n**Params**\n\n- blob `Blob`  \n\n**Returns**: `Promise` - Promise that resolves with the data URL string\n\n**Example**:\n\n```js\nblobUtil.blobToDataURL(blob).then(function (dataURL) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n<a name=\"imgSrcToDataURL\"></a>\n### imgSrcToDataURL(src, type, crossOrigin, quality)\nConvert an image's <code>src</code> URL to a data URL by loading the image and painting\nit to a <code>canvas</code>. Returns a Promise.\n\n<p/>Note: this will coerce the image to the desired content type, and it\nwill only paint the first frame of an animated GIF.\n\n**Params**\n\n- src `string`  \n- type `string` | `undefined` - the content type (optional, defaults to 'image/png')  \n- crossOrigin `string` | `undefined` - for CORS-enabled images, set this to\n                                        'Anonymous' to avoid \"tainted canvas\" errors  \n- quality `number` | `undefined` - a number between 0 and 1 indicating image quality\n                                    if the requested type is 'image/jpeg' or 'image/webp'  \n\n**Returns**: `Promise` - Promise that resolves with the data URL string  \n\n**Examples**:\n\n```js\nblobUtil.imgSrcToDataURL('http://mysite.com/img.png').then(function (dataURL) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\n```js\nblobUtil.imgSrcToDataURL('http://some-other-site.com/img.jpg', 'image/jpeg', \n                         'Anonymous', 1.0).then(function (dataURL) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\n<a name=\"canvasToBlob\"></a>\n### canvasToBlob(canvas, type, quality)\nConvert a <code>canvas</code> to a <code>Blob</code>. Returns a Promise.\n\n**Params**\n\n- canvas `string`  \n- type `string` | `undefined` - the content type (optional, defaults to 'image/png')  \n- quality `number` | `undefined` - a number between 0 and 1 indicating image quality\n                                    if the requested type is 'image/jpeg' or 'image/webp'  \n\n**Returns**: `Promise` - Promise that resolves with the <code>Blob</code>  \n\n\n**Examples**:\n\n```js\nblobUtil.canvasToBlob(canvas).then(function (blob) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\nMost browsers support converting a canvas to both `'image/png'` and `'image/jpeg'`. You may\nalso want to try `'image/webp'`, which will work in some browsers like Chrome (and in other browsers, will just fall back to `'image/png'`):\n\n```js\nblobUtil.canvasToBlob(canvas, 'image/webp').then(function (blob) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\n<a name=\"imgSrcToBlob\"></a>\n### imgSrcToBlob(src, type, crossOrigin, quality)\nConvert an image's <code>src</code> URL to a <code>Blob</code> by loading the image and painting\nit to a <code>canvas</code>. Returns a Promise.\n\n<p/>Note: this will coerce the image to the desired content type, and it\nwill only paint the first frame of an animated GIF.\n\n**Params**\n\n- src `string`  \n- type `string` | `undefined` - the content type (optional, defaults to 'image/png')  \n- crossOrigin `string` | `undefined` - for CORS-enabled images, set this to\n                                        'Anonymous' to avoid \"tainted canvas\" errors  \n- quality `number` | `undefined` - a number between 0 and 1 indicating image quality\n                                    if the requested type is 'image/jpeg' or 'image/webp'  \n\n**Returns**: `Promise` - Promise that resolves with the <code>Blob</code>  \n\n**Examples**:\n\n```js\nblobUtil.imgSrcToBlob('http://mysite.com/img.png').then(function (blob) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\n```js\nblobUtil.imgSrcToBlob('http://some-other-site.com/img.jpg', 'image/jpeg', \n                         'Anonymous', 1.0).then(function (blob) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\n<a name=\"arrayBufferToBlob\"></a>\n### arrayBufferToBlob(buffer, type)\nConvert an <code>ArrayBuffer</code> to a <code>Blob</code>. Returns a Promise.\n\n**Params**\n\n- buffer `ArrayBuffer`  \n- type `string` | `undefined` - the content type (optional)  \n\n**Returns**: `Promise` - Promise that resolves with the <code>Blob</code>  \n\n**Example**:\n\n```js\nblobUtil.arrayBufferToBlob(arrayBuff, 'audio/mpeg').then(function (blob) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\n<a name=\"blobToArrayBuffer\"></a>\n### blobToArrayBuffer(blob)\nConvert a <code>Blob</code> to an <code>ArrayBuffer</code>. Returns a Promise.\n\n**Params**\n\n- blob `Blob`  \n\n**Returns**: `Promise` - Promise that resolves with the <code>ArrayBuffer</code>  \n\n**Example**:\n\n```js\nblobUtil.blobToArrayBuffer(blob).then(function (arrayBuff) {\n  // success\n}).catch(function (err) {\n  // error\n});\n```\n\nCredits\n----\n\nThanks to [webmodules/blob](https://github.com/webmodules/blob) for the Blob constructor shim, and to the rest of [the PouchDB team](https://github.com/pouchdb/pouchdb/graphs/contributors) for figuring most of this crazy stuff out.\n\nBuilding the library\n----\n\n    npm install\n    npm run build\n\nTo generate documentation in `doc/`:\n\n    npm run jsdoc\n\nor in markdown format as `api.md`\n\n    npm run jsdoc2md\n\nThe playground is just `jsdoc` with some extra text containing Kirby and the code samples and such.\n\nSo unfortunately you will need to do a manual diff to get the docs up to date. You'll need to diff:\n\n* `README.md` to its previous version (make sure to keep the code samples, which were manually added)\n* `docs` to its previous version\n\nTesting the library\n----\n\n    npm install\n\nThen to test in the browser using Saucelabs:\n\n    npm test\n\nOr to test locally in your browser of choice:\n\n    npm run test-local\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git://github.com/nolanlawson/blob-util.git"
  },
  "scripts": {
    "browserify": "browserify . -p bundle-collapser/plugin -s blobUtil | ./bin/es3ify.js | derequire > dist/blob-util.js",
    "build": "mkdirp dist && npm run browserify && npm run min",
    "jsdoc": "jsdoc -d docs ./lib/index.js && mv -f docs/global.html docs/index.html",
    "jsdoc2md": "jsdoc2md --heading-depth 3 ./lib/index.js > README.md",
    "jshint": "jshint -c .jshintrc lib/*.js test/test.js",
    "min": "uglifyjs dist/blob-util.js -mc > dist/blob-util.min.js",
    "test": "npm run jshint && zuul ./test/test.js",
    "test-local": "zuul ./test/test.js --local 9000"
  },
  "version": "1.3.0"
}
